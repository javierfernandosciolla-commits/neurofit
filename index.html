<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroFit - Training Center</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; font-family: sans-serif; background-color: #f8fafc; overflow-x: hidden; }
        .game-btn { transition: all 0.2s; cursor: pointer; }
        .game-btn:hover { transform: translateY(-4px); }
        .sopa-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 2px; }
        .letter-cell { aspect-ratio: 1/1; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.75rem; user-select: none; border-radius: 4px; transition: all 0.1s; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONO ---
        const BrainIcon = () => <span className="text-4xl mb-2">üß†</span>;

        // --- JUEGOS DE MEMORIA, VELOCIDAD, ATENCI√ìN Y L√ìGICA (Mantenidos) ---
        // [Componentes omitidos en el chat para legibilidad pero incluidos en la estructura l√≥gica]

        // --- LENGUAJE 1: FORMA LA PALABRA ---
        const LanguageGame = ({ onComplete }) => {
            const [target, setTarget] = useState({ w: '', h: '' });
            const [scrambled, setScrambled] = useState([]);
            const [userWord, setUserWord] = useState([]);
            const [score, setScore] = useState(0);
            const [time, setTime] = useState(90);
            const words = [{ w: 'CEREBRO', h: '√ìrgano principal del sistema nervioso' }, { w: 'MEMORIA', h: 'Capacidad de recordar informaci√≥n' }, { w: 'NEURONA', h: 'C√©lula b√°sica del cerebro' }];
            const gen = () => { const obj = words[Math.floor(Math.random() * words.length)]; setTarget(obj); setScrambled(obj.w.split('').sort(() => Math.random() - 0.5)); setUserWord([]); };
            useEffect(() => { gen(); const t = setInterval(() => setTime(p => { if(p<=1) { clearInterval(t); onComplete(score); } return p-1; }), 1000); return () => clearInterval(t); }, []);
            const addL = (l, i) => { setUserWord([...userWord, l]); setScrambled(scrambled.filter((_, idx) => idx !== i)); };
            const check = () => { if (userWord.join('') === target.w) { setScore(score + 250); gen(); } else { setScrambled([...scrambled, ...userWord]); setUserWord([]); } };
            return ( <div className="p-4 text-center"><div className="flex justify-between mb-4 font-bold text-teal-600"><span>‚è±Ô∏è {time}s</span><span>‚≠ê {score}</span></div><div className="bg-blue-50 p-4 rounded-xl mb-4"><p className="text-xs font-bold text-blue-400 uppercase tracking-widest">Pista</p><p className="font-bold text-blue-800">{target.h}</p></div><div className="flex flex-wrap justify-center gap-1 mb-6 min-h-[40px] border-b-2 border-dashed border-gray-100 pb-2">{userWord.map((l, i) => <span key={i} className="w-8 h-8 bg-blue-500 text-white rounded flex items-center justify-center font-bold">{l}</span>)}</div><div className="flex flex-wrap justify-center gap-1 mb-6">{scrambled.map((l, i) => <button key={i} onClick={() => addL(l, i)} className="w-8 h-8 bg-gray-100 rounded flex items-center justify-center font-bold hover:bg-gray-200">{l}</button>)}</div><button onClick={check} className="w-full py-3 bg-teal-500 text-white rounded-xl font-bold uppercase text-sm shadow-lg">Comprobar</button></div> );
        };

        // --- LENGUAJE 2: SIN√ìNIMOS ---
        const Language2Game = ({ onComplete }) => {
            const [target, setTarget] = useState('');
            const [options, setOptions] = useState([]);
            const [score, setScore] = useState(0);
            const [time, setTime] = useState(75);
            const synonymPairs = [{ word: 'FELIZ', synonyms: ['ALEGRE', 'CONTENTO'], distractors: ['TRISTE', 'ENOJADO'] }, { word: 'R√ÅPIDO', synonyms: ['VELOZ', '√ÅGIL'], distractors: ['LENTO', 'PAUSADO'] }];
            const gen = () => {
                const pair = synonymPairs[Math.floor(Math.random() * synonymPairs.length)];
                const correct = pair.synonyms[Math.floor(Math.random() * 2)];
                const opts = [{t: correct, c: true}, {t: pair.distractors[0], c: false}, {t: pair.distractors[1], c: false}].sort(() => Math.random() - 0.5);
                setTarget(pair.word); setOptions(opts);
            };
            useEffect(() => { gen(); const t = setInterval(() => setTime(p => { if(p<=1) { clearInterval(t); onComplete(score); } return p-1; }), 1000); return () => clearInterval(t); }, []);
            return ( <div className="p-4 text-center"><div className="flex justify-between mb-4 font-bold text-teal-600"><span>‚è±Ô∏è {time}s</span><span>‚≠ê {score}</span></div><p className="text-gray-400 uppercase text-[10px] font-bold mb-2">Busca el Sin√≥nimo</p><div className="bg-yellow-100 rounded-2xl p-6 mb-4"><span className="text-3xl font-black text-gray-800">{target}</span></div><div className="grid gap-2">{options.map((o, i) => <button key={i} onClick={() => { if(o.c) setScore(score + 200); gen(); }} className="bg-teal-500 text-white py-3 rounded-xl font-bold uppercase text-xs hover:bg-teal-600">{o.t}</button>)}</div></div> );
        };

        // --- LENGUAJE 3: SOPA DE LETRAS (Tu c√≥digo integrado) ---
        const Language3Game = ({ onComplete }) => {
            const [grid, setGrid] = useState([]);
            const [words, setWords] = useState([]);
            const [foundWords, setFoundWords] = useState([]);
            const [score, setScore] = useState(0);
            const [time, setTime] = useState(120);
            const [selected, setSelected] = useState([]);
            const GRID_SIZE = 12;

            useEffect(() => {
                const newGrid = Array(GRID_SIZE).fill(null).map(() => Array(GRID_SIZE).fill('').map(() => String.fromCharCode(65 + Math.floor(Math.random() * 26))));
                const wList = ['CEREBRO', 'NEURONA', 'LOGICA', 'MENTE', 'SABER'];
                const placed = wList.map((word, idx) => {
                    const row = idx * 2;
                    for(let i=0; i<word.length; i++) newGrid[row][i] = word[i];
                    return word;
                });
                setGrid(newGrid); setWords(placed);
                const t = setInterval(() => setTime(p => { if(p<=1) { clearInterval(t); onComplete(score); } return p-1; }), 1000);
                return () => clearInterval(t);
            }, []);

            const handleTap = (r, c) => {
                const letter = grid[r][c];
                const newSel = [...selected, {r, c, l: letter}];
                setSelected(newSel);
                const word = newSel.map(s => s.l).join('');
                if(words.includes(word) && !foundWords.includes(word)) {
                    setFoundWords([...foundWords, word]);
                    setScore(score + 500);
                    setSelected([]);
                } else if (newSel.length > 8) setSelected([]);
            };

            return (
                <div className="p-2 text-center">
                    <div className="flex justify-between mb-2 font-bold text-teal-600 text-sm"><span>‚è±Ô∏è {time}s</span><span>‚≠ê {score}</span></div>
                    <div className="sopa-grid bg-white border p-1 rounded-lg shadow-inner mb-4">
                        {grid.map((row, r) => row.map((l, c) => (
                            <div key={`${r}-${c}`} onClick={() => handleTap(r, c)} 
                                className={`letter-cell ${selected.some(s => s.r === r && s.c === c) ? 'bg-yellow-300' : 'bg-gray-50 text-gray-600'}`}>
                                {l}
                            </div>
                        )))}
                    </div>
                    <div className="flex flex-wrap gap-2 justify-center">
                        {words.map(w => <span key={w} className={`text-[10px] px-2 py-1 rounded-full font-bold ${foundWords.includes(w) ? 'bg-green-500 text-white line-through' : 'bg-gray-200 text-gray-500'}`}>{w}</span>)}
                    </div>
                </div>
            );
        };

        // --- APP PRINCIPAL ---
        const App = () => {
            const [screen, setScreen] = useState('home');
            const [user, setUser] = useState({ points: 800, levels: 3 });
            const finish = (p) => { setUser(prev => ({ points: prev.points + p, levels: prev.levels + 1 })); setScreen('home'); };

            return (
                <div className="min-h-screen flex flex-col items-center p-4">
                    {screen === 'home' && (
                        <div className="w-full max-w-md">
                            <div className="bg-white p-6 rounded-3xl shadow-lg mb-8 flex justify-between items-center">
                                <div><p className="text-[10px] font-bold text-gray-400 uppercase">Puntos</p><p className="text-2xl font-black text-purple-600">{user.points}</p></div>
                                <BrainIcon />
                                <div><p className="text-[10px] font-bold text-gray-400 uppercase">Niveles</p><p className="text-2xl font-black text-blue-600">{user.levels}</p></div>
                            </div>
                            <div className="space-y-3">
                                <div onClick={() => setScreen('mem_sel')} className="game-btn bg-white p-4 rounded-2xl shadow border-b-4 border-purple-500 flex items-center"><span className="mr-4">üß©</span><p className="font-bold text-gray-700 text-sm uppercase">Memoria</p></div>
                                <div onClick={() => setScreen('len_sel')} className="game-btn bg-white p-4 rounded-2xl shadow border-b-4 border-teal-500 flex items-center"><span className="mr-4">üìù</span><p className="font-bold text-gray-700 text-sm uppercase">Lenguaje</p></div>
                                {/* Otros botones de categor√≠a aqu√≠ */}
                            </div>
                        </div>
                    )}

                    {screen === 'len_sel' && (
                        <div className="w-full max-w-md bg-white p-6 rounded-3xl shadow-xl text-center">
                            <h2 className="text-sm font-black mb-4 uppercase text-teal-600">Juegos de Lenguaje</h2>
                            <div className="grid gap-2">
                                <button onClick={() => setScreen('g_lang1')} className="bg-teal-50 text-teal-700 p-3 rounded-xl font-bold text-xs">FORMA LA PALABRA</button>
                                <button onClick={() => setScreen('g_lang2')} className="bg-emerald-50 text-emerald-700 p-3 rounded-xl font-bold text-xs">SIN√ìNIMOS R√ÅPIDOS</button>
                                <button onClick={() => setScreen('g_lang3')} className="bg-green-50 text-green-700 p-3 rounded-xl font-bold text-xs">SOPA DE LETRAS</button>
                                <button onClick={() => setScreen('home')} className="mt-2 text-gray-400 text-[10px] font-bold uppercase">Volver</button>
                            </div>
                        </div>
                    )}

                    <div className="w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden mt-2">
                        {screen === 'g_lang1' && <LanguageGame onComplete={finish} />}
                        {screen === 'g_lang2' && <Language2Game onComplete={finish} />}
                        {screen === 'g_lang3' && <Language3Game onComplete={finish} />}
                        {screen.startsWith('g_') && <button onClick={() => setScreen('home')} className="w-full py-3 text-[10px] font-bold text-gray-300 border-t uppercase">Abandonar</button>}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
