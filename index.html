<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroFit - Training Center</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; font-family: sans-serif; background-color: #f1f5f9; }
        .game-btn { transition: all 0.2s; cursor: pointer; }
        .game-btn:active { transform: scale(0.95); }
        .sopa-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 2px; }
        .letter-cell { aspect-ratio: 1/1; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.65rem; border-radius: 4px; cursor: pointer; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONO ---
        const BrainIcon = () => <span className="text-4xl">üß†</span>;

        // --- 1. MEMORIA, 2. VELOCIDAD, 3. ATENCI√ìN, 4. LENGUAJE ---
        // (Se mantienen los componentes internos que ya probaste)

        // --- 5. RAZONAMIENTO 1: SECUENCIAS L√ìGICAS (Tu c√≥digo inyectado) ---
        const ReasoningGame = ({ onComplete }) => {
            const [sequence, setSequence] = useState([]);
            const [correctAnswer, setCorrectAnswer] = useState(null);
            const [options, setOptions] = useState([]);
            const [score, setScore] = useState(0);
            const [round, setRound] = useState(1);
            const [timeLeft, setTimeLeft] = useState(60);
            const [feedback, setFeedback] = useState(null);

            const generateSequence = () => {
                const patterns = [
                    () => { // Suma constante
                        const start = Math.floor(Math.random() * 10) + 1;
                        const step = Math.floor(Math.random() * 5) + 2;
                        return { seq: [start, start + step, start + step * 2, start + step * 3], answer: start + step * 4 };
                    },
                    () => { // Multiplicaci√≥n
                        const start = Math.floor(Math.random() * 3) + 2;
                        return { seq: [start, start * 2, start * 4, start * 8], answer: start * 16 };
                    }
                ];
                const pattern = patterns[Math.floor(Math.random() * patterns.length)]();
                const allOpts = [pattern.answer, pattern.answer + 2, pattern.answer - 3, pattern.answer + 5].sort(() => Math.random() - 0.5);
                setSequence(pattern.seq); setCorrectAnswer(pattern.answer); setOptions(allOpts); setFeedback(null);
            };

            useEffect(() => {
                generateSequence();
                const t = setInterval(() => setTimeLeft(p => { if(p<=1) { clearInterval(t); onComplete(score); } return p-1; }), 1000);
                return () => clearInterval(t);
            }, []);

            const handleAnswer = (ans) => {
                if (ans === correctAnswer) {
                    setScore(score + 200); setFeedback(true);
                    setTimeout(() => { setRound(r => r + 1); generateSequence(); }, 800);
                } else { setFeedback(false); setTimeout(() => setFeedback(null), 800); }
            };

            return (
                <div className="p-4 text-center">
                    <div className="flex justify-between mb-4 font-bold text-indigo-600 text-xs"><span>‚è±Ô∏è {timeLeft}s</span><span>‚≠ê {score}</span><span>Nivel {round}</span></div>
                    <p className="text-xs font-bold text-gray-400 mb-4 uppercase">¬øQu√© n√∫mero sigue?</p>
                    <div className="flex justify-center gap-2 mb-6">
                        {sequence.map((n, i) => <div key={i} className="w-10 h-10 bg-indigo-500 text-white rounded-lg flex items-center justify-center font-bold">{n}</div>)}
                        <div className="w-10 h-10 bg-yellow-400 rounded-lg flex items-center justify-center font-black">?</div>
                    </div>
                    <div className="grid grid-cols-2 gap-2">
                        {options.map(opt => (
                            <button key={opt} onClick={() => handleAnswer(opt)} className={`p-4 rounded-xl font-bold text-xl shadow-sm ${feedback === null ? 'bg-white text-indigo-600' : opt === correctAnswer ? 'bg-green-500 text-white' : 'bg-red-100 text-red-300'}`}>
                                {opt}
                            </button>
                        ))}
                    </div>
                </div>
            );
        };

        // --- APP PRINCIPAL ---
        const App = () => {
            const [screen, setScreen] = useState('home');
            const [user, setUser] = useState({ points: 800, levels: 3 });

            const finish = (p) => { 
                setUser(prev => ({ points: prev.points + p, levels: prev.levels + 1 })); 
                setScreen('home'); 
            };

            return (
                <div className="min-h-screen flex flex-col items-center p-4">
                    {screen === 'home' && (
                        <div className="w-full max-w-md">
                            <div className="bg-white p-6 rounded-3xl shadow-lg mb-6 flex justify-between items-center text-center">
                                <div><p className="text-[10px] font-bold text-gray-400 uppercase">Puntos</p><p className="text-2xl font-black text-purple-600">{user.points}</p></div>
                                <BrainIcon />
                                <div><p className="text-[10px] font-bold text-gray-400 uppercase">Niveles</p><p className="text-2xl font-black text-blue-600">{user.levels}</p></div>
                            </div>
                            <div className="space-y-3">
                                <div onClick={() => setScreen('mem_sel')} className="game-btn bg-white p-4 rounded-2xl shadow border-b-4 border-purple-500 flex items-center"><span className="mr-4 text-2xl">üß©</span><p className="font-bold text-gray-700 uppercase">Memoria</p></div>
                                <div onClick={() => setScreen('len_sel')} className="game-btn bg-white p-4 rounded-2xl shadow border-b-4 border-teal-500 flex items-center"><span className="mr-4 text-2xl">üìù</span><p className="font-bold text-gray-700 uppercase">Lenguaje</p></div>
                                <div onClick={() => setScreen('raz_sel')} className="game-btn bg-white p-4 rounded-2xl shadow border-b-4 border-indigo-500 flex items-center"><span className="mr-4 text-2xl">üí°</span><p className="font-bold text-gray-700 uppercase">Razonamiento</p></div>
                                {/* Pr√≥ximamente: Flexibilidad */}
                            </div>
                        </div>
                    )}

                    {screen === 'raz_sel' && (
                        <div className="w-full max-w-md bg-white p-6 rounded-3xl shadow-xl text-center">
                            <h2 className="text-xs font-black mb-4 uppercase text-indigo-500">Razonamiento</h2>
                            <div className="grid gap-2">
                                <button onClick={() => setScreen('g_razon1')} className="bg-indigo-100 text-indigo-700 p-4 rounded-xl font-bold uppercase text-xs">1. Secuencias L√≥gicas</button>
                                <button disabled className="bg-gray-50 text-gray-300 p-4 rounded-xl font-bold uppercase text-xs">2. Pr√≥ximamente...</button>
                                <button onClick={() => setScreen('home')} className="mt-2 text-gray-400 text-[10px] font-bold uppercase tracking-widest">Volver</button>
                            </div>
                        </div>
                    )}

                    {/* RENDERIZADO DE JUEGOS */}
                    <div className="w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden mt-2">
                        {screen === 'g_razon1' && <ReasoningGame onComplete={finish} />}
                        {/* Aqu√≠ ir√°n los dem√°s casos cuando selecciones otros juegos */}
                        {screen.startsWith('g_') && <button onClick={() => setScreen('home')} className="w-full py-4 text-[10px] font-bold text-gray-300 border-t uppercase tracking-widest">Abandonar</button>}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
