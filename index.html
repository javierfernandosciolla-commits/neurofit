<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroFit - Training Center</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; font-family: sans-serif; background-color: #f8fafc; }
        .game-card { transition: all 0.2s; cursor: pointer; }
        .game-card:hover { transform: translateY(-4px); }
        .sopa-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 2px; }
        .letter-cell { aspect-ratio: 1/1; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.65rem; border-radius: 4px; cursor: pointer; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- COMPONENTES DE LOS JUEGOS ---

        // 1. MEMORIA: PARES
        const MemoryGame = ({ onComplete }) => {
            const [cards, setCards] = useState([]);
            const [flipped, setFlipped] = useState([]);
            const [matched, setMatched] = useState([]);
            const symbols = ['üçé', 'üçä', 'üçã', 'üçá', 'üçì', 'üçí'];
            useEffect(() => { setCards([...symbols, ...symbols].sort(() => Math.random() - 0.5).map((s, i) => ({ id: i, s }))); }, []);
            const handle = (i) => {
                if (flipped.length === 2 || flipped.includes(i) || matched.includes(i)) return;
                const newF = [...flipped, i]; setFlipped(newF);
                if (newF.length === 2) {
                    if (cards[newF[0]].s === cards[newF[1]].s) { setMatched([...matched, ...newF]); setFlipped([]); }
                    else { setTimeout(() => setFlipped([]), 700); }
                }
            };
            useEffect(() => { if (matched.length === 12 && matched.length > 0) onComplete(800); }, [matched]);
            return ( <div className="p-4 grid grid-cols-4 gap-2">{cards.map((c, i) => ( <div key={i} onClick={() => handle(i)} className={`h-16 rounded-xl flex items-center justify-center text-2xl shadow cursor-pointer ${flipped.includes(i) || matched.includes(i) ? 'bg-white border-2 border-purple-400' : 'bg-purple-500 text-white'}`}>{flipped.includes(i) || matched.includes(i) ? c.s : '?'}</div> ))}</div> );
        };

        // 2. VELOCIDAD: C√ÅLCULO
        const SpeedGame = ({ onComplete }) => {
            const [q, setQ] = useState(null);
            const [score, setScore] = useState(0);
            const [time, setTime] = useState(30);
            const gen = () => { const n1 = Math.floor(Math.random()*20)+5; const n2 = Math.floor(Math.random()*20)+5; const ans = n1 + n2; setQ({n1, n2, ans, alt: [ans, ans+2, ans-3].sort(() => Math.random()-0.5)}); };
            useEffect(() => { gen(); const t = setInterval(() => setTime(p => { if(p<=1) { clearInterval(t); onComplete(score); } return p-1; }), 1000); return () => clearInterval(t); }, []);
            return ( <div className="p-6 text-center"><div className="flex justify-between mb-4 font-bold text-blue-600"><span>‚è±Ô∏è {time}s</span><span>‚≠ê {score}</span></div>{q && <div><div className="text-5xl font-black mb-6">{q.n1}+{q.n2}</div><div className="grid gap-2">{q.alt.map(a => <button key={a} onClick={() => { if(a===q.ans) setScore(score+100); gen(); }} className="bg-blue-500 text-white py-4 rounded-xl font-bold">{a}</button>)}</div></div>}</div> );
        };

        // 3. ATENCI√ìN: STROOP
        const AttentionGame = ({ onComplete }) => {
            const [word, setWord] = useState({ text: 'ROJO', color: 'red' });
            const [score, setScore] = useState(0);
            const [time, setTime] = useState(60);
            const options = ['ROJO', 'AZUL', 'VERDE', 'AMARILLO'];
            const colorMap = { 'ROJO': 'red', 'AZUL': 'blue', 'VERDE': 'green', 'AMARILLO': '#eab308' };
            const gen = () => {
                const txt = options[Math.floor(Math.random() * 4)];
                const col = colorMap[options[Math.floor(Math.random() * 4)]];
                setWord({ text: txt, color: col });
            };
            useEffect(() => { gen(); const t = setInterval(() => setTime(p => { if(p<=1) { clearInterval(t); onComplete(score); } return p-1; }), 1000); return () => clearInterval(t); }, []);
            return ( <div className="p-4 text-center"><div className="flex justify-between mb-4 font-bold text-rose-600"><span>‚è±Ô∏è {time}s</span><span>‚≠ê {score}</span></div><div className="h-32 flex items-center justify-center text-5xl font-black mb-6" style={{ color: word.color }}>{word.text}</div><div className="grid grid-cols-2 gap-2">{options.map(opt => <button key={opt} onClick={() => { if(colorMap[opt] === word.color) setScore(score+150); gen(); }} className="bg-indigo-500 text-white p-4 rounded-xl font-bold">{opt}</button>)}</div></div> );
        };

        // 4. LENGUAJE: SOPA DE LETRAS
        const WordSearchGame = ({ onComplete }) => {
            const [grid, setGrid] = useState([]);
            const [words] = useState(['CEREBRO', 'MENTE', 'LOGICA', 'SALUD', 'IDEAS']);
            const [found, setFound] = useState([]);
            const [score, setScore] = useState(0);
            const [time, setTime] = useState(120);
            useEffect(() => {
                let newGrid = Array(12).fill(null).map(() => Array(12).fill('').map(() => String.fromCharCode(65 + Math.floor(Math.random() * 26))));
                words.forEach((w, idx) => { for(let i=0; i<w.length; i++) newGrid[idx*2][i] = w[i]; });
                setGrid(newGrid);
                const t = setInterval(() => setTime(p => { if(p<=1) { clearInterval(t); onComplete(score); } return p-1; }), 1000);
                return () => clearInterval(t);
            }, []);
            return ( <div className="p-2 text-center"><div className="flex justify-between mb-2 font-bold text-teal-600"><span>‚è±Ô∏è {time}s</span><span>‚≠ê {score}</span></div><div className="sopa-grid bg-white border p-1 rounded-lg mb-4">{grid.map((row, r) => row.map((l, c) => <div key={`${r}-${c}`} className="letter-cell bg-gray-50 hover:bg-yellow-200" onClick={() => { if(words.some(w => w.includes(l))) setScore(score+50); }}>{l}</div>))}</div></div> );
        };

        // 5. RAZONAMIENTO: SECUENCIAS (Tu c√≥digo)
        const ReasoningGame = ({ onComplete }) => {
            const [sequence, setSequence] = useState([]);
            const [correct, setCorrect] = useState(null);
            const [options, setOptions] = useState([]);
            const [score, setScore] = useState(0);
            const [round, setRound] = useState(1);
            const gen = () => {
                const start = Math.floor(Math.random() * 10) + 1;
                const step = Math.floor(Math.random() * 5) + 2;
                const ans = start + step * 4;
                setSequence([start, start+step, start+step*2, start+step*3]);
                setCorrect(ans);
                setOptions([ans, ans+2, ans-3, ans+5].sort(() => Math.random() - 0.5));
            };
            useEffect(() => gen(), []);
            return ( <div className="p-4 text-center"><div className="flex justify-between mb-4 font-bold text-indigo-600 text-xs"><span>Nivel {round}</span><span>‚≠ê {score}</span></div><div className="flex justify-center gap-2 mb-8">{sequence.map((n, i) => <div key={i} className="w-10 h-10 bg-indigo-500 text-white rounded flex items-center justify-center font-bold">{n}</div>)}<div className="w-10 h-10 bg-yellow-400 rounded flex items-center justify-center font-bold">?</div></div><div className="grid grid-cols-2 gap-2">{options.map(o => <button key={o} onClick={() => { if(o===correct) { setScore(score+200); setRound(round+1); gen(); } }} className="bg-white border-2 border-indigo-500 text-indigo-600 p-4 rounded-xl font-bold">{o}</button>)}</div><button onClick={() => onComplete(score)} className="mt-4 text-[10px] text-gray-400 uppercase font-bold">Finalizar</button></div> );
        };

        // --- APP PRINCIPAL ---
        const App = () => {
            const [screen, setScreen] = useState('home');
            const [user, setUser] = useState({ points: 800, levels: 3 });
            const finish = (p) => { setUser(prev => ({ points: prev.points + p, levels: prev.levels + 1 })); setScreen('home'); };

            return (
                <div className="min-h-screen flex flex-col items-center p-4">
                    {screen === 'home' && (
                        <div className="w-full max-w-md">
                            <div className="bg-white p-6 rounded-3xl shadow-lg mb-8 flex justify-between items-center text-center">
                                <div><p className="text-[10px] font-bold text-gray-400 uppercase">Puntos</p><p className="text-2xl font-black text-purple-600">{user.points}</p></div>
                                <span className="text-4xl">üß†</span>
                                <div><p className="text-[10px] font-bold text-gray-400 uppercase">Niveles</p><p className="text-2xl font-black text-blue-600">{user.levels}</p></div>
                            </div>
                            
                            <div className="space-y-4">
                                <div onClick={() => setScreen('g_pairs')} className="game-card bg-white p-5 rounded-2xl shadow border-b-4 border-purple-500 flex items-center"><span className="text-2xl mr-4">üß©</span><p className="font-bold text-gray-700 uppercase text-sm">Memoria</p></div>
                                <div onClick={() => setScreen('g_calc')} className="game-card bg-white p-5 rounded-2xl shadow border-b-4 border-blue-500 flex items-center"><span className="text-2xl mr-4">‚ö°</span><p className="font-bold text-gray-700 uppercase text-sm">Velocidad</p></div>
                                <div onClick={() => setScreen('g_att')} className="game-card bg-white p-5 rounded-2xl shadow border-b-4 border-orange-500 flex items-center"><span className="text-2xl mr-4">üëÅÔ∏è</span><p className="font-bold text-gray-700 uppercase text-sm">Atenci√≥n</p></div>
                                <div onClick={() => setScreen('g_sopa')} className="game-card bg-white p-5 rounded-2xl shadow border-b-4 border-teal-500 flex items-center"><span className="text-2xl mr-4">üìù</span><p className="font-bold text-gray-700 uppercase text-sm">Lenguaje</p></div>
                                <div onClick={() => setScreen('g_razon')} className="game-card bg-white p-5 rounded-2xl shadow border-b-4 border-indigo-500 flex items-center"><span className="text-2xl mr-4">üí°</span><p className="font-bold text-gray-700 uppercase text-sm">Razonamiento</p></div>
                            </div>
                        </div>
                    )}

                    <div className="w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden">
                        {screen === 'g_pairs' && <MemoryGame onComplete={finish} />}
                        {screen === 'g_calc' && <SpeedGame onComplete={finish} />}
                        {screen === 'g_att' && <AttentionGame onComplete={finish} />}
                        {screen === 'g_sopa' && <WordSearchGame onComplete={finish} />}
                        {screen === 'g_razon' && <ReasoningGame onComplete={finish} />}
                        
                        {screen.startsWith('g_') && <button onClick={() => setScreen('home')} className="w-full py-4 text-[10px] font-bold text-gray-300 border-t uppercase tracking-widest">Cerrar Juego</button>}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
